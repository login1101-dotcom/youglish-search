<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- ▼キャッシュ無効化を追加 ▼ -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- ▲ここまで追加 ▲ -->

<title>母音抽出＋例語再生（USのみ・ローカル音源）</title>
<style>
  :root{
    --bg:#fafafa; --card:#fff; --ink:#222; --muted:#666;
    --accent:#0b74ff; --chip:#eef4ff; --red:#d9002b;
    --border:#e7e7e7;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,"Hiragino Kaku Gothic ProN","Yu Gothic UI","Noto Sans CJK JP",sans-serif}
  .wrap{max-width:900px;margin:32px auto;padding:0 16px}
  header{background:#fff;position:sticky;top:0;border-bottom:1px solid var(--border);z-index:10}
  h1{font-size:20px;margin:0;padding:14px 16px}
  .srch{display:flex;gap:8px;flex-wrap:wrap; margin:12px 0 24px}
  .srch input{flex:1;min-width:220px;padding:12px 14px;border:1px solid var(--border);border-radius:10px;font-size:16px}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer}
  .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
  .sec{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px 14px;margin:16px 0}
  .row{display:flex;align-items:flex-start;gap:16px;flex-wrap:wrap}
  .col{flex:1;min-width:260px}
  .ipa{font-family:"Noto Serif","Times New Roman",serif; font-size:22px; letter-spacing:.5px}
  .ipa .vwl{color:var(--red);font-weight:700}
  .muted{color:var(--muted);font-size:13px}
  .chips{display:flex;gap:8px;flex-wrap:wrap}
  .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:var(--chip);border:1px solid #dfeaff}
  .chip .small{font-size:12px;color:var(--muted)}
  .cat-head{display:flex;align-items:center;gap:10px; font-weight:700}
  .cat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
  .pill{display:inline-grid;grid-auto-flow:column;align-items:center;gap:10px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff}
  audio{height:32px; width: 100%}
  .code{font-family:ui-monospace,Menlo,Consolas,monospace;background:#f7f7f7;border:1px solid var(--border);padding:2px 6px;border-radius:6px}
</style>
</head>
<body>
<header><h1>母音抽出＋例語再生（USのみ・ローカル音源）</h1></header>
<div class="wrap">
  <!-- 検索窓 -->
  <div class="srch">
    <input id="q" placeholder="単語（例: are, is, car, dog, camp, cure, near ...）" />
    <button class="btn primary" id="btn">検索</button>
    <button class="btn" id="yg">YouGlishで開く</button>
  </div>

  <!-- 辞書IPA（左） + 正規化IPA（右） -->
  <section class="sec" id="sec-ipa-norm">
    <div class="row">
      <div class="col">
        <div class="muted">辞書（IPA）</div>
        <div id="ipaDict" class="ipa">—</div>
        <div class="muted src-links" style="margin-top:8px">
          ※ 取得元: dictionaryapi.dev（US優先選択）　
          <span id="wikilink"></span>
        </div>
        <div style="margin-top:8px">
          <button class="btn" id="playDict">辞書音声</button>
          <audio id="dictAudio" preload="none"></audio>
        </div>
      </div>
      <div class="col">
        <div class="muted">正規化発音記号（17母音 &amp; 赤色強調）</div>
        <div id="ipaNorm" class="ipa">—</div>
      </div>
    </div>
  </section>

  <section class="sec" id="sec-cats">
    <div class="muted">母音カテゴリ（この単語に含まれるもののみ）</div>
    <div id="catList" class="cat-grid"></div>
  </section>

  <section class="sec" id="sec-ex">
    <div class="muted">例単語（クリックでローカル音声再生）</div>
    <div id="examples" class="cat-grid"></div>
    <div class="muted" style="margin-top:8px">
      ローカル音声フォルダ: <span class="code">./audio/vowels/*.mp3</span> , <span class="code">./audio/words/*.mp3</span>
    </div>
  </section>
</div>

<script>
/* ===== ここにスクリプト部分（前回提示した最新版）をそのまま残してください ===== */
</script>
</body>
</html>
